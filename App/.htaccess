<Files "config.ini">
    Require all denied
</Files>

ErrorDocument 404 /?action=404

RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^/?$ index.php?action=$1 [QSA,L]
    RewriteRule ^(article)/([0-9]+)/?$ index.php?action=$1&id=$2 [QSA,L]
    RewriteRule ^(article)/(.*)/?$ index.php?action=$1&id=$2 [QSA,L]
    RewriteRule ^(commenter)/([0-9]+)/?$ index.php?action=$1&id=$2 [QSA,L]
    RewriteRule ^(admin)/?$ index.php?action=$1 [QSA,L]
    RewriteRule ^(admin)/(ajouter)/(article)/?$ index.php?action=$1/$2/$3 [QSA,L]
    RewriteRule ^(admin)/(modifier|supprimer)/(article)/([0-9]+)/?$ index.php?action=$1/$2/$3&id=$4 [QSA,L]
